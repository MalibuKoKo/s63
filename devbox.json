{
    "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.14.0/.schema/devbox.schema.json",
    "packages": [],
    "shell": {
      "init_hook": [
        "echo 'Welcome to devbox!' > /dev/null"
      ],
      "scripts": {
        "test": [
          "echo \"Error: no test specified\" && exit 1"
        ],
        "init": [
          "docker run --rm --privileged tonistiigi/binfmt --install all",
          "docker run --rm --platform linux/arm64 busybox uname -m",
          "docker buildx use s63||docker buildx create --name s63 --use",
          "docker buildx inspect --bootstrap --builder s63"
        ],
        "build": [
          "docker buildx build --platform linux/arm64 --cache-from=type=local,src=./build/.cache --cache-to=type=local,dest=./build/.cache --tag nicolas/s63:rpi3 --load --file build/Dockerfile ."
        ],
        "build_target_builder": [
          "docker buildx build --platform linux/arm64 --cache-from=type=local,src=./build/.cache --cache-to=type=local,dest=./build/.cache --tag nicolas/s63:rpi3 --load --file build/Dockerfile --target builder ."
        ],
        "run": [
          "docker run -it --rm --platform linux/arm64 --name s63 nicolas/s63:rpi3"
        ],
        "cp": [
          "docker cp s63:/app/package.json build/package.json",
          "docker cp s63:/app/package-lock.json build/package-lock.json"
        ]
      }
    }
  }
  